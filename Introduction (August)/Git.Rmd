---
title: "Git"
author: "Victoria Zaitceva"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval = FALSE)
```


Code to run from the PowerShell
(don't add $ sign in the beginning of the command for the PowerShell)

```{bash}
pwd #get the current directory

cd ~ #change the directory to the home directory

ls #list the files in the directory
```
```{bash}
$ pwd
/projects # сейчас мы здесь

$ cd github # переходим в папку github

$ pwd
/projects/github # теперь мы здесь! 
```




```{bash}
$ pwd
/projects/github # сейчас мы здесь

$ cd .. # переходим на уровень выше

$ pwd
/projects # мы вернулись! 
```



```{bash}
$ pwd
/projects/github # сейчас мы здесь

$ cd . # переходим в текущую директорию

$ pwd
/projects/github # ничего не поменялось 
```


```{r}
$ pwd
/projects # сейчас мы здесь

$ cd github/open-source-project # переходим через несколько директорий

$ pwd
/projects/github/open-source-project # переместились сразу в папку open-source-project внутри github
```



```{r}
$ ls # вывели список файлов
file.txt
photo.png

$ ls -a # вывели список, в котором отображаются скрытые файлы ., .. и .git
.
..
.git
file.txt
photo.png
```

# Создание файлов и директорий — touch, mkdir
Чтобы создать файл, нужно ввести в консоль команду touch (англ. «коснуться») с именем файла в качестве параметра: touch %ИМЯ_ФАЙЛА%.

```{bash}
$ touch my-new-file.txt # создали файл my-new-file.txt
# touch doesn't work in powershell
```


PowerShell

```{bash}
New-Item -ItemType File -Name "secret.txt"
#If you want to append content to the file later, you can use:
Add-Content -Path "secret.txt" -Value "This is a secret."
```

Create several files at once

```{bash}
$ touch file1.txt file2.txt file3.txt

#PowerShell

foreach ($file in "file1.txt", "file2.txt") {
    New-Item -ItemType File -Name $file
}

```


Для создания директорий через терминал используют другую команду — mkdir (от англ. make directory — «создать директорию»).

```{bash}
$ mkdir my-new-directory # создали директорию my-new-directory
```


Можно создать целую структуру директорий одной командой с помощью флага -p.

```{bash}
$ mkdir -p dir1/dir-inside/dir-deeper-inside
# создали папку dir-deeper-inside в папке dir-inside, которая находится в папке dir1
```

По умолчанию touch и mkdir создают файлы и папки в текущей рабочей директории. Например, если вы находитесь в директории abs, команда touch file.txt создаст файл именно там: abs/file.txt.
Также можно использовать обе команды вместе с символом домашней директории (~) или родительской директории (..). Например, команда mkdir ~/my-git-projects создаст папку my-git-projects внутри домашней директории.
А команда touch ../../file.txt создаст файл file.txt на две папки выше по иерархии. Допустим, если вы находитесь в директории projects/git/hello, команда touch ../../file.txt создаст файл по такому пути: projects/file.txt.


# Копирование файлов и директорий — cp

```{bash}
$ cp что_копируем куда_копируем

$ cp index.html src/
# скопировали index.html в папку src

# Копирование нескольких файлов

$ cp что_копируем что_копируем что_копируем куда_копируем

$ cp index.html style.css script.js src/
# скопировали три файла (index.html, style.css и script.js) в папку src

```



```{r}
$ cd first-project  
# перешли в директорию

$ cp data.txt ~
# скопировали файл в домашнюю директорию
```


# Перемещение файлов и папок — mv
Копирование создаёт копию файла или папки. Но иногда вместо копии нужно удалить файл в одном месте и создать в другом. Для этого есть команда mv (от англ. move — «переместить»).
Синтаксис команды mv аналогичен синтаксису cp. После имени команды указывают список файлов и папок, которые нужно переместить, а затем — папку, в которую нужно выполнить перемещение.
Создайте папку very-important-files внутри директории first-project. Перейдите в first-project командой cd.
Затем переместите файл table.csv в папку very-important-files и проверьте результат.

```{r}
$ mv table.csv ./very-important-files
# сначала указываем имя файла, который хотим переместить, потом путь — куда перемещаем 

$ cd very-important-files
$ ls
table.csv 
# перешли в папку very-important-files и проверили, что всё сработало
```

# Чтение файлов — cat
Чтобы прочитать файл, в консоль нужно ввести cat (от англ. concatenate and print — «объединить и распечатать») вместе с именем файла. Команда распечатает то, что содержится в нём.

```{bash}
$ cat myfile.txt # распечатали содержимое файла myfile.txt
```

Команда cat работает только с текстовыми файлами. Вывести этой командой файл другого типа (например, изображение) не получится.

# Удаление файлов и папок — rm, rmdir, rm -r
Чтобы удалить файл, нужно напечатать команду rm (от англ. remove — «удалить») и передать ей имя файла.

```{bash}
rm file1.txt # удалили файл file.txt

$ rmdir images # команда удалит папку images из текущей директории, 
               # если папка images пуста
```

Если в папке, которую вы пытаетесь стереть, есть какие-то файлы, то командная строка не удалит её и выведет сообщение о том, что папка не пуста (англ. Directory not empty).

Это защита от случайного удаления нужных файлов. Если папку всё-таки нужно удалить вместе со всем её содержимым, можно использовать команду rm так.

```{r}
$ rm -r images # удалили папку images со всем её содержимым из текущей директории 
```

В этом случае команда rm -r (-r — от англ. recursive, «рекурсивный») рекурсивно удаляет файлы и папки. Это значит, что удаление будет последовательно применяться к каждому из элементов в этой папке — пока не сотрёт их все. Затем команда удалит пустую директорию.


# Эффективное использование команд
Команды в терминале необязательно вбивать и выполнять по очереди. Их можно указывать не по одной, а сразу списком. Для этого их нужно разделить двумя амперсандами (&&).

```{bash}
$ mkdir second-project && cd second-project && touch index.html style.css
# создаём папку second-project,
# переходим в папку second-project
# и создаём в ней два файла: index.html и style.css 
```

Вызывайте команды из буфера
Допустим, вчера вы создали пять новых файлов, а сегодня решили добавить к ним ещё один, но не можете вспомнить название нужной команды. На этот случай у терминала есть собственная память. Она называется буфером (от англ. buffer — «посредник»). В буфере хранятся все команды, которые вызывались до этого. По их списку можно перемещаться. 
Чтобы обратиться к последней введённой команде, нажмите на клавиатуре стрелку вверх (↑). Если нажать ещё раз, появится предпоследняя команда; ещё раз — предпредпоследняя; и так далее. Чтобы вернуться — например, от предпоследней команды к последней, — нажмите стрелку вниз (↓).


Необязательно заучивать все команды наизусть. Если нужно найти какую-нибудь из них, достаточно вспомнить, с каких букв она начинается. Можно набрать их в командной строке и дважды нажать клавишу Tab. Терминал покажет список всех команд, которые начинаются с этих символов.
Tab автоматически дописывает не только команды, но и пути. Начните печатать имя папки или файла (они должны быть в той же директории) и нажмите Tab. Терминал заполнит имя автоматически.
Если этого не происходит, значит, есть несколько файлов или папок, которые начинаются так же. Нажмите Tab ещё раз, и вы увидите их список. Терминал не знает, как ему дозаполнить такой ввод и что именно выбрать, поэтому показывает все варианты, чтобы вы могли уточнить запрос.


extra commit.. 
