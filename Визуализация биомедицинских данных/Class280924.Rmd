---
title: "Introduction to Data Visualization with ggplot2"
author: "Victoria Zaitceva"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)
library(tidyverse)
library(ggpubr)
```

## Загрузка данных

```{r}
hogwarts <- read_csv("dayavis2_BI_2024/data/hogwarts_2024.csv")
hogwarts |> head()
```

### Проверка структуры данных

```{r}
hogwarts |> glimpse()

# Changing some variables type to factors
hogwarts <- hogwarts |> mutate(
  across(c(house, course, sex, wandCore, bloodStatus), ~ as.factor(.x))
)
```

### Поиск пропущенных значений

```{r}
sum(is.na(hogwarts))
```

### Сводка по данным

```{r}
hogwarts %>% summary()
```

### Пересоздание theme_custom

```{r}
theme_custom <- theme(
    panel.background = element_rect(fill = "white"),
    plot.title = element_text(size = 30, hjust = 0.5),
    plot.subtitle = element_text(size = 25, hjust = 0.5),
    strip.text = element_text(size = 20),
    axis.text = element_text(size = 20),
    axis.title = element_text(size = 25),
    legend.title = element_text(size = 25),
    legend.text = element_text(size = 20)
  )

# А еще мы создаем функцию для стандартной ошибки среднего
se <- function(x){
  sd(x, na.rm=TRUE)/sqrt(length(x))
}
```


## Визуализация

### Распределение 2-х количественных переменных

```{r twoNumVar}
hogwarts %>% 
  ggplot(aes(`Flying exam`, `Defence against the dark arts exam`))+
  theme_custom
```

![](dayavis2_BI_2024/images/ggplot2shapey.png){width="1200"}
